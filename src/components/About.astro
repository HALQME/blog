---
import { getCollection } from "astro:content";

// Tag configuration
const tags = [
  "Osaka, Japan",
  "TypeScript",
  "Bun",
  "Vue.js",
  "Hono",
  "Swift",
  "Astro",
] as const;

// Get all unique tags from blog posts
const blogPosts = await getCollection("blog");
const blogTags = new Set(
  blogPosts.flatMap((post) => post.data.tags.map((t) => t.toLowerCase())),
);
---

<section class="section section-border">
  <h2 class="text-headline mb-6 flex items-center gap-3">About Me</h2>
  <div class="prose prose-lg text-body">
    <p>
      Hi, I'm HAL (HALQME). I am a university student based in Osaka, Japan,
      majoring in Psychology. I have a passion for web development and creating
      useful tools.
    </p>
    <ul class="mt-4 flex list-none flex-wrap gap-3 pl-0 select-none">
      {
        tags.map((label) =>
          blogTags.has(label.toLowerCase()) ? (
            <li class="m-0 p-0">
              <a
                href={`/tags/${label.toLowerCase()}`}
                class="tag decoration-none"
              >
                {label}
              </a>
            </li>
          ) : (
            <li class="m-0 p-0">
              <span class="tag">{label}</span>
            </li>
          ),
        )
      }
    </ul>
  </div>
</section>
